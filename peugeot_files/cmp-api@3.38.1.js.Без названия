!function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var t=function t(n,r){function o(t,o,i){if("undefined"!=typeof document){"number"==typeof(i=e({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in i)i[a]&&(s+="; "+a,!0!==i[a]&&(s+="="+i[a].split(";")[0]));return document.cookie=t+"="+n.write(o,t)+s}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],r={},o=0;o<t.length;o++){var i=t[o].split("="),s=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(r[a]=n.read(s,a),e===a)break}catch(e){}}return e?r[e]:r}},remove:function(t,n){o(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),n="mdeConsentData",r="mdeConsentDataGoogle",o=1/24,i="mdeC_frc",s=["cs","de","en","es","fr","nl","pl","ro","ru","tr"];function a(){return function(e){var t=".mobile.de",n=e.split(".");return e.includes(t)?n=t.split("."):n.length>=3?n[0]="":2===n.length&&n.unshift(""),n.join(".")}(window.location&&window.location.hostname||"")}function u(e){return{expires:null!=e?e:393,domain:a(),secure:window.location.protocol.includes("https"),samesite:"lax"}}function c(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((arguments.length>3?arguments[3]:void 0)||!(null==(i=a())?void 0:i.includes("mobile.de"))){var i,s=n;e===r&&n&&n.length>1&&(s="1"),t.set(e,s,Object.assign(Object.assign({},u(393)),o))}}function l(){var e=t.get(r);return e&&e.length>1&&(c(r,"1",{},!0),e="1"),function(e){switch(e){case"1":return"2~1162.2447.1166.2461.2468.1186.1188.2472.2477.2481.2484.2486.1205.2488.2493.2498.1215.1226.1227.2510.1230.2517.2526.2527.2532.2535.1252.2542.1268.2552.1270.1276.2563.2564.2567.1284.2568.2569.2571.2572.1290.2575.2577.2583.2584.1301.1307.1312.2596.2604.2605.2608.2609.2610.43.2612.46.2614.2621.55.2628.61.1345.2629.2633.2636.70.1356.2642.2643.2645.2646.2650.83.2651.2652.2656.89.2657.1375.2658.93.2660.2661.2669.2670.108.2677.2681.2684.117.1403.2687.122.2690.124.2695.2698.1415.1416.135.143.144.2713.2714.147.149.1440.159.2729.1449.1455.2739.192.196.2767.2768.2770.2772.211.1495.2784.2787.2791.2792.228.1512.230.1516.2798.2801.2805.239.1525.2812.2813.2816.2817.2821.2822.1540.259.2827.2830.2831.1548.266.2834.2838.1555.2839.1558.2844.2846.2849.2850.2852.286.1570.2854.291.2860.1577.2862.1579.2863.2865.1583.1584.2867.2869.2873.2874.2875.2876.2878.311.2880.2881.2882.2883.2884.1603.2886.322.323.2887.2888.327.2889.2891.2893.1616.2894.2895.2897.2898.2900.2901.2908.2909.2916.2917.2918.2919.2920.1638.2922.2923.2927.2929.2930.2931.367.1651.1653.371.2940.2941.2947.2949.1667.2950.385.2956.394.1677.1678.1682.2961.2963.2964.2965.2966.2968.407.2973.2975.2979.1697.415.1699.2980.2981.1703.2983.2985.2986.2987.424.2994.1712.2995.430.2997.1716.3000.3002.3003.436.1721.3005.1725.3008.3009.3010.445.3012.1732.3016.3017.3018.3019.1745.1750.3034.3038.3043.1765.486.3052.3053.3055.3058.491.3059.494.495.3063.1782.3066.3068.1786.3073.3074.3075.3076.3077.3070.1800.3089.3090.522.523.3093.3094.3095.3097.1810.3099.3100.3106.3109.540.3112.1825.1827.3117.3119.550.1832.3126.3127.3128.559.3130.560.1838.1840.1842.3135.3136.568.1843.574.1845.576.3145.1859.3150.3151.584.3154.3155.587.1866.591.1870.3163.1878.1880.3167.3172.3173.1889.1899.3184.3185.3187.3188.3189.3190.3194.3196.1917.1929.1942.1944.1962.1963.1964.1967.1968.1969.1978.2003.737.2027.2035.2039.2047.2052.2056.2064.2068.2072.2074.802.803.2088.2090.2103.820.821.2107.2109.2115.839.2124.2130.2133.2137.2140.2147.864.2156.2166.2177.899.2186.904.2205.922.2213.931.2216.2219.2220.2222.938.2225.2234.2253.979.981.985.2279.2282.1003.2292.2309.1027.2312.1031.2316.1040.2325.2328.1046.2331.1051.2335.1053.2336.2343.1067.2354.2358.2359.2370.1092.2376.2377.1095.1097.1099.2387.1107.2400.2403.2405.2407.2411.2414.2416.2418.1135.2425.1143.1149.1152.2440";case"":return e;default:return}}(e)}function d(e){var t;try{return null!==(t=new URL(window.location.href).searchParams.get(e))&&void 0!==t?t:void 0}catch(e){return}}function p(){var e=t.get(n);return(null==e?void 0:e.startsWith("C"))?e:void 0}function f(){var e=d("mdeConsentData");return e&&c(n,e,{},!0),e}var h=function(){var e=t.get(i);return e&&parseInt(e,10)||0};function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){g(i,r,o,s,a,"next",e)}function a(e){g(i,r,o,s,a,"throw",e)}s(void 0)})}}function y(e,t,n){return t=A(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_()?Reflect.construct(t,n||[],A(e).constructor):t.apply(e,n))}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R(r.key),r)}}function C(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=U(e))||t){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function E(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},I.apply(null,arguments)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function(){return!!e})()}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof a?r:a,c=Object.create(u.prototype);return V(c,"_invoke",function(n,r,o){var i,a,u,c=0,l=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,a=0,u=e,p.n=n,s}};function f(n,r){for(a=n,u=r,t=0;!d&&c&&!o&&t<l.length;t++){var o,i=l[t],f=p.p,h=i[2];n>3?(o=h===r)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(a=0,p.v=r,p.n=i[1]):f<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,p.n=h,a=0))}if(o||n>1)return s;throw d=!0,r}return function(o,l,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,h),a=l,u=h;(t=a<2?e:u)||!d;){i||(a?a<3?(a>1&&(p.n=-1),f(a,u)):p.n=u:p.v=u);try{if(c=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(d=p.n<0)?u:n.call(r,p))!==s)break}catch(t){i=e,a=1,u=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),c}var s={};function a(){}function u(){}function c(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(V(t={},r,function(){return this}),t),d=c.prototype=a.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,V(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return u.prototype=c,V(d,"constructor",c),V(c,"constructor",u),u.displayName="GeneratorFunction",V(c,o,"GeneratorFunction"),V(d),V(d,o,"Generator"),V(d,r,function(){return this}),V(d,"toString",function(){return"[object Generator]"}),(P=function(){return{w:i,m:p}})()}function V(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}V=function(e,t,n,r){function i(t,n){V(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},V(e,t,n,r)}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function D(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function U(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function F(e){var t="function"==typeof Map?new Map:void 0;return F=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(_())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&T(o,n.prototype),o}(e,arguments,A(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),T(n,e)},F(e)}var x=function(e){function t(e){var n;return b(this,t),(n=y(this,t,[e])).name="DecodingError",n}return k(t,e),C(t)}(F(Error)),M=function(e){function t(e){var n;return b(this,t),(n=y(this,t,[e])).name="EncodingError",n}return k(t,e),C(t)}(F(Error)),G=function(e){function t(e){var n;return b(this,t),(n=y(this,t,[e])).name="GVLError",n}return k(t,e),C(t)}(F(Error)),j=function(e){function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return b(this,t),(r=y(this,t,["invalid value ".concat(n," passed for ").concat(e," ").concat(o)])).name="TCModelError",r}return k(t,e),C(t)}(F(Error)),B=function(){return C(function e(){b(this,e)},null,[{key:"encode",value:function(e){if(!/^[0-1]+$/.test(e))throw new M("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",r=0;r<e.length;r+=this.BASIS)n+=this.DICT[parseInt(e.substr(r,this.BASIS),2)];return n}},{key:"decode",value:function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new x("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var r=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-r.length)+r}return t}}])}();E(B,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),E(B,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]])),E(B,"BASIS",6),E(B,"LCM",24);var H=function(){function e(){b(this,e)}return C(e,[{key:"has",value:function(t){return e.langSet.has(t)}},{key:"parseLanguage",value:function(t){var n=(t=t.toUpperCase()).split("-")[0];if(t.length>=2&&2==n.length){if(e.langSet.has(t))return t;if(e.langSet.has(n))return n;var r=n+"-"+n;if(e.langSet.has(r))return r;var o,i=S(e.langSet);try{for(i.s();!(o=i.n()).done;){var s=o.value;if(-1!==s.indexOf(t)||-1!==s.indexOf(n))return s}}catch(e){i.e(e)}finally{i.f()}}throw new Error("unsupported language ".concat(t))}},{key:"forEach",value:function(t){e.langSet.forEach(t)}},{key:"size",get:function(){return e.langSet.size}}])}();E(H,"langSet",new Set(["AR","BG","BS","CA","CS","CY","DA","DE","EL","EN","ES","ET","EU","FI","FR","GL","HE","HI","HR","HU","ID","IS","IT","JA","KA","KO","LT","LV","MK","MS","MT","NL","NO","PL","PT-BR","PT-PT","RO","RU","SK","SL","SQ","SR-LATN","SR-CYRL","SV","SW","TH","TL","TR","UK","VI","ZH","ZH-HANT"]));var Q=C(function e(){b(this,e)});E(Q,"cmpId","cmpId"),E(Q,"cmpVersion","cmpVersion"),E(Q,"consentLanguage","consentLanguage"),E(Q,"consentScreen","consentScreen"),E(Q,"created","created"),E(Q,"supportOOB","supportOOB"),E(Q,"isServiceSpecific","isServiceSpecific"),E(Q,"lastUpdated","lastUpdated"),E(Q,"numCustomPurposes","numCustomPurposes"),E(Q,"policyVersion","policyVersion"),E(Q,"publisherCountryCode","publisherCountryCode"),E(Q,"publisherCustomConsents","publisherCustomConsents"),E(Q,"publisherCustomLegitimateInterests","publisherCustomLegitimateInterests"),E(Q,"publisherLegitimateInterests","publisherLegitimateInterests"),E(Q,"publisherConsents","publisherConsents"),E(Q,"publisherRestrictions","publisherRestrictions"),E(Q,"purposeConsents","purposeConsents"),E(Q,"purposeLegitimateInterests","purposeLegitimateInterests"),E(Q,"purposeOneTreatment","purposeOneTreatment"),E(Q,"specialFeatureOptins","specialFeatureOptins"),E(Q,"useNonStandardTexts","useNonStandardTexts"),E(Q,"vendorConsents","vendorConsents"),E(Q,"vendorLegitimateInterests","vendorLegitimateInterests"),E(Q,"vendorListVersion","vendorListVersion"),E(Q,"vendorsAllowed","vendorsAllowed"),E(Q,"vendorsDisclosed","vendorsDisclosed"),E(Q,"version","version");var W,z=function(){return C(function e(){b(this,e)},[{key:"clone",value:function(){var e=this,t=new this.constructor;return Object.keys(this).forEach(function(n){var r=e.deepClone(e[n]);void 0!==r&&(t[n]=r)}),t}},{key:"deepClone",value:function(e){var t=N(e);if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var n,r=[],o=S(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.push(this.deepClone(i))}}catch(e){o.e(e)}finally{o.f()}return e instanceof Array?r:new e.constructor(r)}var s={};for(var a in e)e.hasOwnProperty(a)&&(s[a]=this.deepClone(e[a]));return s}}}])}();!function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(W||(W={}));var q=function(e){function t(e,n){var r;return b(this,t),E(r=y(this,t),"purposeId_",void 0),E(r,"restrictionType",void 0),void 0!==e&&(r.purposeId=e),void 0!==n&&(r.restrictionType=n),r}return k(t,e),C(t,[{key:"hash",get:function(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return"".concat(this.purposeId).concat(t.hashSeparator).concat(this.restrictionType)}},{key:"purposeId",get:function(){return this.purposeId_},set:function(e){this.purposeId_=e}},{key:"isValid",value:function(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===W.NOT_ALLOWED||this.restrictionType===W.REQUIRE_CONSENT||this.restrictionType===W.REQUIRE_LI)}},{key:"isSameAs",value:function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}],[{key:"unHash",value:function(e){var n=e.split(this.hashSeparator),r=new t;if(2!==n.length)throw new j("hash",e);return r.purposeId=parseInt(n[0],10),r.restrictionType=parseInt(n[1],10),r}}])}(z);E(q,"hashSeparator","-");var K,J,Y=function(e){function t(){var e;b(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return E(e=y(this,t,[].concat(r)),"bitLength",0),E(e,"map",new Map),E(e,"gvl_",void 0),e}return k(t,e),C(t,[{key:"has",value:function(e){return this.map.has(e)}},{key:"isOkToHave",value:function(e,t,n){var r,o=!0;if(null!==(r=this.gvl)&&void 0!==r&&r.vendors){var i=this.gvl.vendors[n];if(i)if(e===W.NOT_ALLOWED)o=i.legIntPurposes.includes(t)||i.purposes.includes(t);else if(i.flexiblePurposes.length)switch(e){case W.REQUIRE_CONSENT:o=i.flexiblePurposes.includes(t)&&i.legIntPurposes.includes(t);break;case W.REQUIRE_LI:o=i.flexiblePurposes.includes(t)&&i.purposes.includes(t)}else o=!1;else o=!1}return o}},{key:"add",value:function(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){var n=t.hash;this.has(n)||(this.map.set(n,new Set),this.bitLength=0),this.map.get(n).add(e)}}},{key:"restrictPurposeToLegalBasis",value:function(e){var t=Array.from(this.gvl.vendorIds),n=e.hash,r=t[t.length-1],o=D(Array(r).keys()).map(function(e){return e+1});if(this.has(n))for(var i=1;i<=r;i++)this.map.get(n).add(i);else this.map.set(n,new Set(o)),this.bitLength=0}},{key:"getVendors",value:function(e){var t=[];if(e){var n=e.hash;this.has(n)&&(t=Array.from(this.map.get(n)))}else{var r=new Set;this.map.forEach(function(e){e.forEach(function(e){r.add(e)})}),t=Array.from(r)}return t.sort(function(e,t){return e-t})}},{key:"getRestrictionType",value:function(e,t){var n;return this.getRestrictions(e).forEach(function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)}),n}},{key:"vendorHasRestriction",value:function(e,t){for(var n=!1,r=this.getRestrictions(e),o=0;o<r.length&&!n;o++)n=t.isSameAs(r[o]);return n}},{key:"getMaxVendorId",value:function(){var e=0;return this.map.forEach(function(t){e=Math.max(Array.from(t)[t.size-1],e)}),e}},{key:"getRestrictions",value:function(e){var t=[];return this.map.forEach(function(n,r){e?n.has(e)&&t.push(q.unHash(r)):t.push(q.unHash(r))}),t}},{key:"getPurposes",value:function(){var e=new Set;return this.map.forEach(function(t,n){e.add(q.unHash(n).purposeId)}),Array.from(e)}},{key:"remove",value:function(e,t){var n=t.hash,r=this.map.get(n);r&&(r.delete(e),0==r.size&&(this.map.delete(n),this.bitLength=0))}},{key:"gvl",get:function(){return this.gvl_},set:function(e){var t=this;this.gvl_||(this.gvl_=e,this.map.forEach(function(e,n){var r=q.unHash(n);Array.from(e).forEach(function(n){t.isOkToHave(r.restrictionType,r.purposeId,n)||e.delete(n)})}))}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"numRestrictions",get:function(){return this.map.size}}])}(z);!function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(K||(K={})),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(J||(J={}));var X=C(function e(){b(this,e)});E(X,"ID_TO_KEY",[J.CORE,J.VENDORS_DISCLOSED,J.VENDORS_ALLOWED,J.PUBLISHER_TC]),E(X,"KEY_TO_ID",E(E(E(E({},J.CORE,0),J.VENDORS_DISCLOSED,1),J.VENDORS_ALLOWED,2),J.PUBLISHER_TC,3));var Z,$,ee,te,ne,re,oe,ie,se,ae,ue,ce,le,de,pe,fe,he,ve,ge=function(e){function t(){var e;b(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return E(e=y(this,t,[].concat(r)),"bitLength",0),E(e,"maxId_",0),E(e,"set_",new Set),e}return k(t,e),C(t,[{key:Symbol.iterator,value:P().m(function e(){var t;return P().w(function(e){for(;;)switch(e.n){case 0:t=1;case 1:if(!(t<=this.maxId)){e.n=3;break}return e.n=2,[t,this.has(t)];case 2:t++,e.n=1;break;case 3:return e.a(2)}},e,this)})},{key:"values",value:function(){return this.set_.values()}},{key:"maxId",get:function(){return this.maxId_}},{key:"has",value:function(e){return this.set_.has(e)}},{key:"unset",value:function(e){var t=this;Array.isArray(e)?e.forEach(function(e){return t.unset(e)}):"object"===N(e)?this.unset(Object.keys(e).map(function(e){return Number(e)})):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach(function(e){t.maxId_=Math.max(t.maxId,e)})))}},{key:"isIntMap",value:function(e){var t=this,n="object"===N(e);return n=n&&Object.keys(e).every(function(n){var r=Number.isInteger(parseInt(n,10));return r=(r=r&&t.isValidNumber(e[n].id))&&void 0!==e[n].name})}},{key:"isValidNumber",value:function(e){return parseInt(e,10)>0}},{key:"isSet",value:function(e){var t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}},{key:"set",value:function(e){var t=this;if(Array.isArray(e))e.forEach(function(e){return t.set(e)});else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map(function(e){return Number(e)}));else{if(!this.isValidNumber(e))throw new j("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}},{key:"empty",value:function(){this.set_=new Set,this.maxId_=0}},{key:"forEach",value:function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)}},{key:"size",get:function(){return this.set_.size}},{key:"setAll",value:function(e){this.set(e)}}])}(z);Z=Q.cmpId,$=Q.cmpVersion,ee=Q.consentLanguage,te=Q.consentScreen,ne=Q.created,re=Q.isServiceSpecific,oe=Q.lastUpdated,ie=Q.policyVersion,se=Q.publisherCountryCode,ae=Q.publisherLegitimateInterests,ue=Q.publisherConsents,ce=Q.purposeConsents,le=Q.purposeLegitimateInterests,de=Q.purposeOneTreatment,pe=Q.specialFeatureOptins,fe=Q.useNonStandardTexts,he=Q.vendorListVersion,ve=Q.version;var me=C(function e(){b(this,e)});E(me,Z,12),E(me,$,12),E(me,ee,12),E(me,te,6),E(me,ne,36),E(me,re,1),E(me,oe,36),E(me,ie,6),E(me,se,12),E(me,ae,24),E(me,ue,24),E(me,ce,24),E(me,le,24),E(me,de,1),E(me,pe,12),E(me,fe,1),E(me,he,12),E(me,ve,6),E(me,"anyBoolean",1),E(me,"encodingType",1),E(me,"maxId",16),E(me,"numCustomPurposes",6),E(me,"numEntries",12),E(me,"numRestrictions",12),E(me,"purposeId",6),E(me,"restrictionType",2),E(me,"segmentType",3),E(me,"singleOrRange",1),E(me,"vendorId",16);var ye,be=function(){return C(function e(){b(this,e)},null,[{key:"encode",value:function(e){return String(Number(e))}},{key:"decode",value:function(e){return"1"===e}}])}(),we=function(){return C(function e(){b(this,e)},null,[{key:"encode",value:function(e,t){var n;if("string"==typeof e&&(e=parseInt(e,10)),(n=e.toString(2)).length>t||e<0)throw new M("".concat(e," too large to encode into ").concat(t));return n.length<t&&(n="0".repeat(t-n.length)+n),n}},{key:"decode",value:function(e,t){if(t!==e.length)throw new x("invalid bit length");return parseInt(e,2)}}])}(),Ce=function(){return C(function e(){b(this,e)},null,[{key:"encode",value:function(e,t){return we.encode(Math.round(e.getTime()/100),t)}},{key:"decode",value:function(e,t){if(t!==e.length)throw new x("invalid bit length");var n=new Date;return n.setTime(100*we.decode(e,t)),n}}])}(),Se=function(){return C(function e(){b(this,e)},null,[{key:"encode",value:function(e,t){for(var n="",r=1;r<=t;r++)n+=be.encode(e.has(r));return n}},{key:"decode",value:function(e,t){if(e.length!==t)throw new x("bitfield encoding length mismatch");for(var n=new ge,r=1;r<=t;r++)be.decode(e[r-1])&&n.set(r);return n.bitLength=e.length,n}}])}(),Ee=function(){return C(function e(){b(this,e)},null,[{key:"encode",value:function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,r=e.charCodeAt(1)-65;if(n<0||n>25||r<0||r>25)throw new M("invalid language code: ".concat(e));if(t%2==1)throw new M("numBits must be even, ".concat(t," is not valid"));return t/=2,we.encode(n,t)+we.encode(r,t)}},{key:"decode",value:function(e,t){if(t!==e.length||e.length%2)throw new x("invalid bit length for language");var n=e.length/2,r=we.decode(e.slice(0,n),n)+65,o=we.decode(e.slice(n),n)+65;return String.fromCharCode(r)+String.fromCharCode(o)}}])}(),Ie=function(){return C(function e(){b(this,e)},null,[{key:"encode",value:function(e){var t=we.encode(e.numRestrictions,me.numRestrictions);if(!e.isEmpty()){var n=function(t,n){for(var r=t+1;r<=n;r++)if(e.gvl.vendorIds.has(r))return r;return t};e.getRestrictions().forEach(function(r){t+=we.encode(r.purposeId,me.purposeId),t+=we.encode(r.restrictionType,me.restrictionType);for(var o=e.getVendors(r),i=o.length,s=0,a=0,u="",c=0;c<i;c++){var l=o[c];if(0===a&&(s++,a=l),c===i-1||o[c+1]>n(l,o[i-1])){var d=!(l===a);u+=be.encode(d),u+=we.encode(a,me.vendorId),d&&(u+=we.encode(l,me.vendorId)),a=0}}t+=we.encode(s,me.numEntries),t+=u})}return t}},{key:"decode",value:function(e){var t=0,n=new Y,r=we.decode(e.substr(t,me.numRestrictions),me.numRestrictions);t+=me.numRestrictions;for(var o=0;o<r;o++){var i=we.decode(e.substr(t,me.purposeId),me.purposeId);t+=me.purposeId;var s=we.decode(e.substr(t,me.restrictionType),me.restrictionType);t+=me.restrictionType;var a=new q(i,s),u=we.decode(e.substr(t,me.numEntries),me.numEntries);t+=me.numEntries;for(var c=0;c<u;c++){var l=be.decode(e.substr(t,me.anyBoolean));t+=me.anyBoolean;var d=we.decode(e.substr(t,me.vendorId),me.vendorId);if(t+=me.vendorId,l){var p=we.decode(e.substr(t,me.vendorId),me.vendorId);if(t+=me.vendorId,p<d)throw new x("Invalid RangeEntry: endVendorId ".concat(p," is less than ").concat(d));for(var f=d;f<=p;f++)n.add(f,a)}else n.add(d,a)}}return n.bitLength=t,n}}])}();!function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(ye||(ye={}));var Ae=function(){return C(function e(){b(this,e)},null,[{key:"encode",value:function(e){var t,n=[],r=[],o=we.encode(e.maxId,me.maxId),i="",s=me.maxId+me.encodingType,a=s+e.maxId,u=2*me.vendorId+me.singleOrRange+me.numEntries,c=s+me.numEntries;return e.forEach(function(o,s){(i+=be.encode(o),(t=e.maxId>u&&c<a)&&o)&&(e.has(s+1)?0===r.length&&(r.push(s),c+=me.singleOrRange,c+=me.vendorId):(r.push(s),c+=me.vendorId,n.push(r),r=[]))}),t?(o+=String(ye.RANGE),o+=this.buildRangeEncoding(n)):(o+=String(ye.FIELD),o+=i),o}},{key:"decode",value:function(e,t){var n,r=0,o=we.decode(e.substr(r,me.maxId),me.maxId);r+=me.maxId;var i=we.decode(e.charAt(r),me.encodingType);if(r+=me.encodingType,i===ye.RANGE){if(n=new ge,1===t){if("1"===e.substr(r,1))throw new x("Unable to decode default consent=1");r++}var s=we.decode(e.substr(r,me.numEntries),me.numEntries);r+=me.numEntries;for(var a=0;a<s;a++){var u=be.decode(e.charAt(r));r+=me.singleOrRange;var c=we.decode(e.substr(r,me.vendorId),me.vendorId);if(r+=me.vendorId,u){var l=we.decode(e.substr(r,me.vendorId),me.vendorId);r+=me.vendorId;for(var d=c;d<=l;d++)n.set(d)}else n.set(c)}}else{var p=e.substr(r,o);r+=o,n=Se.decode(p,o)}return n.bitLength=r,n}},{key:"buildRangeEncoding",value:function(e){var t=e.length,n=we.encode(t,me.numEntries);return e.forEach(function(e){var t=1===e.length;n+=be.encode(!t),n+=we.encode(e[0],me.vendorId),t||(n+=we.encode(e[1],me.vendorId))}),n}}])}();function ke(){var e;return E(E(E(E(E(E(E(E(E(E(e={},Q.version,we),Q.created,Ce),Q.lastUpdated,Ce),Q.cmpId,we),Q.cmpVersion,we),Q.consentScreen,we),Q.consentLanguage,Ee),Q.vendorListVersion,we),Q.policyVersion,we),Q.isServiceSpecific,be),E(E(E(E(E(E(E(E(E(E(e,Q.useNonStandardTexts,be),Q.specialFeatureOptins,Se),Q.purposeConsents,Se),Q.purposeLegitimateInterests,Se),Q.purposeOneTreatment,be),Q.publisherCountryCode,Ee),Q.vendorConsents,Ae),Q.vendorLegitimateInterests,Ae),Q.publisherRestrictions,Ie),"segmentType",we),E(E(E(E(E(E(E(e,Q.vendorsDisclosed,Ae),Q.vendorsAllowed,Ae),Q.publisherConsents,Se),Q.publisherLegitimateInterests,Se),Q.numCustomPurposes,we),Q.publisherCustomConsents,Se),Q.publisherCustomLegitimateInterests,Se)}var _e=C(function e(){b(this,e),E(this,"1",E({},J.CORE,[Q.version,Q.created,Q.lastUpdated,Q.cmpId,Q.cmpVersion,Q.consentScreen,Q.consentLanguage,Q.vendorListVersion,Q.purposeConsents,Q.vendorConsents])),E(this,"2",E(E(E(E({},J.CORE,[Q.version,Q.created,Q.lastUpdated,Q.cmpId,Q.cmpVersion,Q.consentScreen,Q.consentLanguage,Q.vendorListVersion,Q.policyVersion,Q.isServiceSpecific,Q.useNonStandardTexts,Q.specialFeatureOptins,Q.purposeConsents,Q.purposeLegitimateInterests,Q.purposeOneTreatment,Q.publisherCountryCode,Q.vendorConsents,Q.vendorLegitimateInterests,Q.publisherRestrictions]),J.PUBLISHER_TC,[Q.publisherConsents,Q.publisherLegitimateInterests,Q.numCustomPurposes,Q.publisherCustomConsents,Q.publisherCustomLegitimateInterests]),J.VENDORS_ALLOWED,[Q.vendorsAllowed]),J.VENDORS_DISCLOSED,[Q.vendorsDisclosed]))}),Le=C(function e(t,n){if(b(this,e),E(this,"1",[J.CORE]),E(this,"2",[J.CORE]),2===t.version)if(t.isServiceSpecific)this[2].push(J.PUBLISHER_TC),this[2].push(J.VENDORS_DISCLOSED);else{var r=!(!n||!n.isForVendors);r&&!0!==t[Q.supportOOB]||this[2].push(J.VENDORS_DISCLOSED),r&&(t[Q.supportOOB]&&t[Q.vendorsAllowed].size>0&&this[2].push(J.VENDORS_ALLOWED),this[2].push(J.PUBLISHER_TC))}}),Oe=function(){return C(function e(){b(this,e)},null,[{key:"encode",value:function(e,t){var n,r=this;try{n=this.fieldSequence[String(e.version)][t]}catch(n){throw new M("Unable to encode version: ".concat(e.version,", segment: ").concat(t))}var o="";t!==J.CORE&&(o=we.encode(X.KEY_TO_ID[t],me.segmentType));var i=ke();return n.forEach(function(n){var s=e[n],a=i[n],u=me[n];void 0===u&&r.isPublisherCustom(n)&&(u=Number(e[Q.numCustomPurposes]));try{o+=a.encode(s,u)}catch(e){throw new M("Error encoding ".concat(t,"->").concat(n,": ").concat(e.message))}}),B.encode(o)}},{key:"decode",value:function(e,t,n){var r=this,o=B.decode(e),i=0;n===J.CORE&&(t.version=we.decode(o.substr(i,me[Q.version]),me[Q.version])),n!==J.CORE&&(i+=me.segmentType);var s=this.fieldSequence[String(t.version)][n],a=ke();return s.forEach(function(e){var n=a[e],s=me[e];if(void 0===s&&r.isPublisherCustom(e)&&(s=Number(t[Q.numCustomPurposes])),0!==s){var u=o.substr(i,s);if(t[e]=n===Ae?n.decode(u,t.version):n.decode(u,s),Number.isInteger(s))i+=s;else{if(!Number.isInteger(t[e].bitLength))throw new x(e);i+=t[e].bitLength}}}),t}},{key:"isPublisherCustom",value:function(e){return 0===e.indexOf("publisherCustom")}}])}();E(Oe,"fieldSequence",new _e);var Pe=function(){return C(function e(){b(this,e)},null,[{key:"process",value:function(e,t){var n=e.gvl;if(!n)throw new M("Unable to encode TCModel without a GVL");if(!n.isReady)throw new M("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.slice(0,2).toUpperCase(),(null==t?void 0:t.version)>0&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;var r=e.version-1;if(!this.processor[r])throw new M("Invalid version: ".concat(e.version));return this.processor[r](e,n)}}])}();E(Pe,"processor",[function(e){return e},function(e,t){e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset([1,3,4,5,6]);var n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach(function(n,r){n.forEach(function(o,i){if(o){var s=t.vendors[i];if(!s||s.deletedDate)n.unset(i);else if(0===s[r].length)if("legIntPurposes"===r&&0===s.purposes.length&&0===s.legIntPurposes.length&&s.specialPurposes.length>0)n.set(i);else if("legIntPurposes"===r&&s.purposes.length>0&&0===s.legIntPurposes.length&&s.specialPurposes.length>0)n.set(i);else if(e.isServiceSpecific)if(0===s.flexiblePurposes.length)n.unset(i);else{for(var a=e.publisherRestrictions.getRestrictions(i),u=!1,c=0,l=a.length;c<l&&!u;c++)u=a[c].restrictionType===W.REQUIRE_CONSENT&&"purposes"===r||a[c].restrictionType===W.REQUIRE_LI&&"legIntPurposes"===r;u||n.unset(i)}else n.unset(i)}})}),e}]);var Ve=function(){return C(function e(){b(this,e)},null,[{key:"absCall",value:function(e,t,n,r){return new Promise(function(o,i){var s=new XMLHttpRequest;s.withCredentials=n,s.addEventListener("load",function(){if(s.readyState==XMLHttpRequest.DONE)if(s.status>=200&&s.status<300){var e=s.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}o(e)}else i(new Error("HTTP Status: ".concat(s.status," response type: ").concat(s.responseType)))}),s.addEventListener("error",function(){i(new Error("error"))}),s.addEventListener("abort",function(){i(new Error("aborted"))}),null===t?s.open("GET",e,!0):s.open("POST",e,!0),s.responseType="json",s.timeout=r,s.ontimeout=function(){i(new Error("Timeout "+r+"ms "+e))},s.send(t)})}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),n,r)}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,n)}}])}(),Te=function(e){function t(e,n){var r;b(this,t),E(r=y(this,t),"readyPromise",void 0),E(r,"gvlSpecificationVersion",void 0),E(r,"vendorListVersion",void 0),E(r,"tcfPolicyVersion",void 0),E(r,"lastUpdated",void 0),E(r,"purposes",void 0),E(r,"specialPurposes",void 0),E(r,"features",void 0),E(r,"specialFeatures",void 0),E(r,"isReady_",!1),E(r,"vendors_",void 0),E(r,"vendorIds",void 0),E(r,"fullVendorList",void 0),E(r,"byPurposeVendorMap",void 0),E(r,"bySpecialPurposeVendorMap",void 0),E(r,"byFeatureVendorMap",void 0),E(r,"bySpecialFeatureVendorMap",void 0),E(r,"stacks",void 0),E(r,"dataCategories",void 0),E(r,"lang_",void 0),E(r,"cacheLang_",void 0),E(r,"isLatest",!1);var o=t.baseUrl,i=null==n?void 0:n.language;if(i)try{i=t.consentLanguages.parseLanguage(i)}catch(e){throw new G("Error during parsing the language: "+e.message)}if(r.lang_=i||t.DEFAULT_LANGUAGE,r.cacheLang_=i||t.DEFAULT_LANGUAGE,r.isVendorList(e))r.populate(e),r.readyPromise=Promise.resolve();else{if(!o)throw new G("must specify GVL.baseUrl before loading GVL json");if(e>0){var s=e;t.CACHE.has(s)?(r.populate(t.CACHE.get(s)),r.readyPromise=Promise.resolve()):(o+=t.versionedFilename.replace("[VERSION]",String(s)),r.readyPromise=r.fetchJson(o))}else t.CACHE.has(t.LATEST_CACHE_KEY)?(r.populate(t.CACHE.get(t.LATEST_CACHE_KEY)),r.readyPromise=Promise.resolve()):(r.isLatest=!0,r.readyPromise=r.fetchJson(o+t.latestFilename))}return r}return k(t,e),C(t,[{key:"cacheLanguage",value:function(){t.LANGUAGE_CACHE.has(this.cacheLang_)||t.LANGUAGE_CACHE.set(this.cacheLang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories})}},{key:"fetchJson",value:(r=m(P().m(function e(t){var n,r;return P().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n=this,e.n=1,Ve.fetch(t);case 1:n.populate.call(n,e.v),e.n=3;break;case 2:throw e.p=2,r=e.v,new G(r.message);case 3:return e.a(2)}},e,this,[[0,2]])})),function(e){return r.apply(this,arguments)})},{key:"getJson",value:function(){return O(O({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.clonePurposes(),specialPurposes:this.cloneSpecialPurposes(),features:this.cloneFeatures(),specialFeatures:this.cloneSpecialFeatures(),stacks:this.cloneStacks()},this.dataCategories?{dataCategories:this.cloneDataCategories()}:{}),{},{vendors:this.cloneVendors()})}},{key:"cloneSpecialFeatures",value:function(){for(var e={},n=0,r=Object.keys(this.specialFeatures);n<r.length;n++){var o=r[n];e[o]=t.cloneFeature(this.specialFeatures[o])}return e}},{key:"cloneFeatures",value:function(){for(var e={},n=0,r=Object.keys(this.features);n<r.length;n++){var o=r[n];e[o]=t.cloneFeature(this.features[o])}return e}},{key:"cloneStacks",value:function(){for(var e={},n=0,r=Object.keys(this.stacks);n<r.length;n++){var o=r[n];e[o]=t.cloneStack(this.stacks[o])}return e}},{key:"cloneDataCategories",value:function(){for(var e={},n=0,r=Object.keys(this.dataCategories);n<r.length;n++){var o=r[n];e[o]=t.cloneDataCategory(this.dataCategories[o])}return e}},{key:"cloneSpecialPurposes",value:function(){for(var e={},n=0,r=Object.keys(this.specialPurposes);n<r.length;n++){var o=r[n];e[o]=t.clonePurpose(this.specialPurposes[o])}return e}},{key:"clonePurposes",value:function(){for(var e={},n=0,r=Object.keys(this.purposes);n<r.length;n++){var o=r[n];e[o]=t.clonePurpose(this.purposes[o])}return e}},{key:"cloneVendors",value:function(){for(var e={},n=0,r=Object.keys(this.fullVendorList);n<r.length;n++){var o=r[n];e[o]=t.cloneVendor(this.fullVendorList[o])}return e}},{key:"changeLanguage",value:(n=m(P().m(function e(n){var r,o,i,s,a,u,c;return P().w(function(e){for(;;)switch(e.p=e.n){case 0:r=n,e.p=1,r=t.consentLanguages.parseLanguage(n),e.n=3;break;case 2:throw e.p=2,u=e.v,new G("Error during parsing the language: "+u.message);case 3:if(o=n.toUpperCase(),r.toLowerCase()!==t.DEFAULT_LANGUAGE.toLowerCase()||t.LANGUAGE_CACHE.has(o)){e.n=4;break}return e.a(2);case 4:if(r===this.lang_){e.n=9;break}if(this.lang_=r,!t.LANGUAGE_CACHE.has(o)){e.n=5;break}for(s in i=t.LANGUAGE_CACHE.get(o))i.hasOwnProperty(s)&&(this[s]=i[s]);e.n=9;break;case 5:return a=t.baseUrl+t.languageFilename.replace("[LANG]",this.lang_.toLowerCase()),e.p=6,e.n=7,this.fetchJson(a);case 7:this.cacheLang_=o,this.cacheLanguage(),e.n=9;break;case 8:throw e.p=8,c=e.v,new G("unable to load language: "+c.message);case 9:return e.a(2)}},e,this,[[6,8],[1,2]])})),function(e){return n.apply(this,arguments)})},{key:"language",get:function(){return this.lang_}},{key:"isVendorList",value:function(e){return void 0!==e&&void 0!==e.vendors}},{key:"populate",value:function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&t.CACHE.set(t.LATEST_CACHE_KEY,this.getJson()),t.CACHE.has(this.vendorListVersion)||t.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}},{key:"mapVendors",value:function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(function(e){t.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(function(e){t.bySpecialPurposeVendorMap[e]=new Set}),Object.keys(this.features).forEach(function(e){t.byFeatureVendorMap[e]=new Set}),Object.keys(this.specialFeatures).forEach(function(e){t.bySpecialFeatureVendorMap[e]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(function(e){return+e})),this.vendorIds=new Set(e),this.vendors_=e.reduce(function(e,n){var r=t.vendors_[String(n)];return r&&void 0===r.deletedDate&&(r.purposes.forEach(function(e){t.byPurposeVendorMap[String(e)].consent.add(n)}),r.specialPurposes.forEach(function(e){t.bySpecialPurposeVendorMap[String(e)].add(n)}),r.legIntPurposes.forEach(function(e){t.byPurposeVendorMap[String(e)].legInt.add(n)}),r.flexiblePurposes&&r.flexiblePurposes.forEach(function(e){t.byPurposeVendorMap[String(e)].flexible.add(n)}),r.features.forEach(function(e){t.byFeatureVendorMap[String(e)].add(n)}),r.specialFeatures.forEach(function(e){t.bySpecialFeatureVendorMap[String(e)].add(n)}),e[n]=r),e},{})}},{key:"getFilteredVendors",value:function(e,t,n,r){var o=this,i=e.charAt(0).toUpperCase()+e.slice(1),s={};return("purpose"===e&&n?this["by"+i+"VendorMap"][String(t)][n]:this["by"+(r?"Special":"")+i+"VendorMap"][String(t)]).forEach(function(e){s[String(e)]=o.vendors[String(e)]}),s}},{key:"getVendorsWithConsentPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(e){return this.getFilteredVendors("purpose",e,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(e){return this.getFilteredVendors("purpose",e,void 0,!0)}},{key:"getVendorsWithFeature",value:function(e){return this.getFilteredVendors("feature",e)}},{key:"getVendorsWithSpecialFeature",value:function(e){return this.getFilteredVendors("feature",e,void 0,!0)}},{key:"vendors",get:function(){return this.vendors_}},{key:"narrowVendorsTo",value:function(e){this.mapVendors(e)}},{key:"isReady",get:function(){return this.isReady_}},{key:"clone",value:function(){var e=new t(this.getJson());return this.lang_!==t.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}}],[{key:"baseUrl",get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new G("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}},{key:"emptyLanguageCache",value:function(e){var n=!1;return null==e&&t.LANGUAGE_CACHE.size>0?(t.LANGUAGE_CACHE=new Map,n=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(t.LANGUAGE_CACHE.delete(e.toUpperCase()),n=!0),n}},{key:"emptyCache",value:function(e){var n=!1;return Number.isInteger(e)&&e>=0?(t.CACHE.delete(e),n=!0):void 0===e&&(t.CACHE=new Map,n=!0),n}},{key:"clonePurpose",value:function(e){return O(O({id:e.id,name:e.name,description:e.description},e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{}),e.illustrations?{illustrations:Array.from(e.illustrations)}:{})}},{key:"cloneFeature",value:function(e){return O(O({id:e.id,name:e.name,description:e.description},e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{}),e.illustrations?{illustrations:Array.from(e.illustrations)}:{})}},{key:"cloneDataCategory",value:function(e){return{id:e.id,name:e.name,description:e.description}}},{key:"cloneStack",value:function(e){return{id:e.id,name:e.name,description:e.description,purposes:Array.from(e.purposes),specialFeatures:Array.from(e.specialFeatures)}}},{key:"cloneDataRetention",value:function(e){return O(O({},"number"==typeof e.stdRetention?{stdRetention:e.stdRetention}:{}),{},{purposes:O({},e.purposes),specialPurposes:O({},e.specialPurposes)})}},{key:"cloneVendorUrls",value:function(e){return e.map(function(e){return O({langId:e.langId,privacy:e.privacy},e.legIntClaim?{legIntClaim:e.legIntClaim}:{})})}},{key:"cloneVendor",value:function(e){return O(O(O(O(O(O(O(O(O(O(O({id:e.id,name:e.name,purposes:Array.from(e.purposes),legIntPurposes:Array.from(e.legIntPurposes),flexiblePurposes:Array.from(e.flexiblePurposes),specialPurposes:Array.from(e.specialPurposes),features:Array.from(e.features),specialFeatures:Array.from(e.specialFeatures)},e.overflow?{overflow:{httpGetLimit:e.overflow.httpGetLimit}}:{}),"number"==typeof e.cookieMaxAgeSeconds||null===e.cookieMaxAgeSeconds?{cookieMaxAgeSeconds:e.cookieMaxAgeSeconds}:{}),void 0!==e.usesCookies?{usesCookies:e.usesCookies}:{}),e.policyUrl?{policyUrl:e.policyUrl}:{}),void 0!==e.cookieRefresh?{cookieRefresh:e.cookieRefresh}:{}),void 0!==e.usesNonCookieAccess?{usesNonCookieAccess:e.usesNonCookieAccess}:{}),e.dataRetention?{dataRetention:this.cloneDataRetention(e.dataRetention)}:{}),e.urls?{urls:this.cloneVendorUrls(e.urls)}:{}),e.dataDeclaration?{dataDeclaration:Array.from(e.dataDeclaration)}:{}),e.deviceStorageDisclosureUrl?{deviceStorageDisclosureUrl:e.deviceStorageDisclosureUrl}:{}),e.deletedDate?{deletedDate:e.deletedDate}:{})}},{key:"isInstanceOf",value:function(e){return"object"===N(e)&&"function"==typeof e.narrowVendorsTo}}]);var n,r}(z);E(Te,"LANGUAGE_CACHE",new Map),E(Te,"CACHE",new Map),E(Te,"LATEST_CACHE_KEY",0),E(Te,"DEFAULT_LANGUAGE","EN"),E(Te,"consentLanguages",new H),E(Te,"baseUrl_",void 0),E(Te,"latestFilename","vendor-list.json"),E(Te,"versionedFilename","archives/vendor-list-v[VERSION].json"),E(Te,"languageFilename","purposes-[LANG].json");var De=function(e){function t(e){var n;return b(this,t),E(n=y(this,t),"isServiceSpecific_",!1),E(n,"supportOOB_",!0),E(n,"useNonStandardTexts_",!1),E(n,"purposeOneTreatment_",!1),E(n,"publisherCountryCode_","AA"),E(n,"version_",2),E(n,"consentScreen_",0),E(n,"policyVersion_",5),E(n,"consentLanguage_","EN"),E(n,"cmpId_",0),E(n,"cmpVersion_",0),E(n,"vendorListVersion_",0),E(n,"numCustomPurposes_",0),E(n,"gvl_",void 0),E(n,"created",void 0),E(n,"lastUpdated",void 0),E(n,"specialFeatureOptins",new ge),E(n,"purposeConsents",new ge),E(n,"purposeLegitimateInterests",new ge),E(n,"publisherConsents",new ge),E(n,"publisherLegitimateInterests",new ge),E(n,"publisherCustomConsents",new ge),E(n,"publisherCustomLegitimateInterests",new ge),E(n,"customPurposes",void 0),E(n,"vendorConsents",new ge),E(n,"vendorLegitimateInterests",new ge),E(n,"vendorsDisclosed",new ge),E(n,"vendorsAllowed",new ge),E(n,"publisherRestrictions",new Y),e&&(n.gvl=e),n.updated(),n}return k(t,e),C(t,[{key:"gvl",get:function(){return this.gvl_},set:function(e){Te.isInstanceOf(e)||(e=new Te(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}},{key:"cmpId",get:function(){return this.cmpId_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new j("cmpId",e);this.cmpId_=e}},{key:"cmpVersion",get:function(){return this.cmpVersion_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new j("cmpVersion",e);this.cmpVersion_=e}},{key:"consentScreen",get:function(){return this.consentScreen_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new j("consentScreen",e);this.consentScreen_=e}},{key:"consentLanguage",get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e}},{key:"publisherCountryCode",get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new j("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}},{key:"vendorListVersion",get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=Number(e)|0)<0)throw new j("vendorListVersion",e);this.vendorListVersion_=e}},{key:"policyVersion",get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new j("policyVersion",e)}},{key:"version",get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)}},{key:"isServiceSpecific",get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e}},{key:"useNonStandardTexts",get:function(){return this.useNonStandardTexts_},set:function(e){this.useNonStandardTexts_=e}},{key:"supportOOB",get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e}},{key:"purposeOneTreatment",get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e}},{key:"setAllVendorConsents",value:function(){this.vendorConsents.set(this.gvl.vendors)}},{key:"unsetAllVendorConsents",value:function(){this.vendorConsents.empty()}},{key:"setAllVendorsDisclosed",value:function(){this.vendorsDisclosed.set(this.gvl.vendors)}},{key:"unsetAllVendorsDisclosed",value:function(){this.vendorsDisclosed.empty()}},{key:"setAllVendorsAllowed",value:function(){this.vendorsAllowed.set(this.gvl.vendors)}},{key:"unsetAllVendorsAllowed",value:function(){this.vendorsAllowed.empty()}},{key:"setAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.set(this.gvl.vendors)}},{key:"unsetAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.empty()}},{key:"setAllPurposeConsents",value:function(){this.purposeConsents.set(this.gvl.purposes)}},{key:"unsetAllPurposeConsents",value:function(){this.purposeConsents.empty()}},{key:"setAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.set(this.gvl.purposes)}},{key:"unsetAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.empty()}},{key:"setAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}},{key:"unsetAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.empty()}},{key:"setAll",value:function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}},{key:"unsetAll",value:function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}},{key:"numCustomPurposes",get:function(){var e=this.numCustomPurposes_;if("object"===N(this.customPurposes)){var t=Object.keys(this.customPurposes).sort(function(e,t){return Number(e)-Number(t)});e=parseInt(t.pop(),10)}return e},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new j("numCustomPurposes",e)}},{key:"updated",value:function(){var e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}])}(z);E(De,"consentLanguages",Te.consentLanguages);var Re=function(){return C(function e(){b(this,e)},null,[{key:"encode",value:function(e,t){var n,r="";return e=Pe.process(e,t),(n=Array.isArray(null==t?void 0:t.segments)?t.segments:new Le(e,t)[""+e.version]).forEach(function(t,o){var i="";o<n.length-1&&(i="."),r+=Oe.encode(e,t)+i}),r}},{key:"decode",value:function(e,t){var n=e.split("."),r=n.length;t||(t=new De);for(var o=0;o<r;o++){var i=n[o],s=B.decode(i.charAt(0)).substr(0,me.segmentType),a=X.ID_TO_KEY[we.decode(s,me.segmentType).toString()];Oe.decode(i,t,a)}return t}}])}(),Ne=function(){return h()>=3};function Ue(){return Boolean(p())}function Fe(){var e,t=null!==(e=p())&&void 0!==e?e:f();return t?Re.decode(t):new De}var xe,Me=function(e,t){return t=null!=t?t:Fe(),Array.from(t[e].values())},Ge=function(){return Fe().cmpVersion};!function(e){e.Full="full",e.Partial="partial",e.Empty="empty",e.NotSaved="not_saved"}(xe||(xe={}));var je=function(){if(!Ue())return xe.NotSaved;var e=Boolean(l()),t=Fe().purposeConsents.size>=10;return e&&t?xe.Full:e||t?xe.Partial:xe.Empty},Be=function(e,t){return function(e){return Me(Q.publisherCustomConsents,e)}(t).includes(e)},He=function(){return je()===xe.Full},Qe=Object.freeze({StoreAndOrAccessInformationOnADevice:1,SelectBasicAds:2,CreatePersonalisedAdsProfile:3,SelectPersonalisedAds:4,CreatePersonalisedContentProfile:5,SelectPersonalisedContent:6,MeasureAdPerformance:7,MeasureContentPerformance:8,ApplyMarketResearchToGenerateAudienceInsights:9,DevelopAndImproveProducts:10}),We=Object.freeze({InternalConsent:24,Google:25,UserAnalysis:26,Facebook:29,Adex:30}),ze=function(e){return Fe().purposeConsents.has(e)},qe=function(){return ze(Qe.StoreAndOrAccessInformationOnADevice)},Ke=function(){return He()},Je=function(e){return Fe().vendorConsents.has(e)},Ye="undefined"!=typeof window,Xe="undefined"!=typeof global,Ze=function(){var e,t,n=Ye?window:Xe?global:{},r=n.mobile=null!==(e=n.mobile)&&void 0!==e?e:{};return r.consent=null!==(t=r.consent)&&void 0!==t?t:{},r.consent},$e=function(e){return(n=Ze(),n.config=null!==(t=n.config)&&void 0!==t?t:{},n.config)[e];var t,n},et=function(){var e,n=t.get("mobile.LOCALE"),r=$e("language"),o=function(){try{return new URLSearchParams(window.location.search).get("lang")}catch(e){return null}}(),i=null!==(e=null!=r?r:n)&&void 0!==e?e:o;return i&&function(e){if(!e)return!1;var t=e.toLowerCase();return s.some(function(e){return e.toLowerCase()===t})}(i)?i.toLowerCase():"de"},tt=function(){return"".concat(null!==(e=$e("apiDomain"))&&void 0!==e?e:"https://m.mobile.de").concat(function(){var e;return null!==(e=$e("apiPath"))&&void 0!==e?e:"/svc/consent"}());var e},nt=function(){var e,t=$e("userGroup");return Object.assign({application:null!==(e=$e("applicationIdentifier"))&&void 0!==e?e:"mobile.default","Accept-Language":et()},t&&{"X-Mobile-Advertising-User-Group":t})},rt=["/consent","/service/imprint","/service/privacyPolicy","/service/cookiePolicy","/service/agbIndex","/service/oba"],ot=function(){var e="".concat(tt(),"/vendors/version");return fetch(e,{credentials:"include",headers:Object.assign(Object.assign({},nt()),{"X-Mobile-Source-Url":document.location.origin+document.location.pathname}),referrerPolicy:"no-referrer-when-downgrade"}).then(function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)}).then(function(e){return e.json()}).then(function(e){return Number(e.customVersion)})},it=function(){return Fe().created<=new Date((new Date).setDate((new Date).getDate()-393))},st=function(){return Number(Fe().policyVersion)>3},at=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},ut=function(){return at(void 0,void 0,void 0,P().m(function e(){var t,n,r;return P().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Ue()&&!it()&&st()){e.n=1;break}return e.a(2,!1);case 1:return t=Number(Ge()),e.p=2,e.n=3,ot();case 3:return n=e.v,e.a(2,t>=n);case 4:return e.p=4,r=e.v,console.warn(r),e.a(2,!0)}},e,null,[[2,4]])}))},ct=function(){return[Qe.StoreAndOrAccessInformationOnADevice,Qe.SelectBasicAds,Qe.SelectPersonalisedAds,Qe.MeasureAdPerformance].every(function(e){return ze(e)})&&Be(We.Adex)};function lt(){return Be(We.InternalConsent)}function dt(){var e,t=Me(Q.purposeConsents,e);return[1,3,7,9,10].every(function(e){return t.includes(e)})}function pt(){return{isAnalyticsAllowed:lt(),isAnalyticsAdvertisingAllowed:dt()}}var ft;!function(e){e.Granted="granted",e.Denied="denied"}(ft||(ft={}));var ht=function(){var e=ft,t=e.Granted,n=e.Denied;return{ad_storage:[Qe.StoreAndOrAccessInformationOnADevice,Qe.CreatePersonalisedAdsProfile,Qe.SelectPersonalisedAds,Qe.MeasureAdPerformance,Qe.ApplyMarketResearchToGenerateAudienceInsights,Qe.DevelopAndImproveProducts].every(function(e){return ze(e)})&&Je(755)?t:n,analytics_storage:lt()?t:n}};function vt(){return Be(We.Facebook)}function gt(){return Boolean(l())}var mt=function(){return gt()&&qe()},yt=function(){return Je(131)&&qe()};function bt(){return Be(We.UserAnalysis)}var wt,Ct,St,Et,It=function(){return fetch("".concat(tt(),"/accept-default"),{credentials:"include",headers:Object.assign({},nt())}).then(function(e){return e.json()}).then(function(e){return{iab:e.encodedConsentString,google:e.encodedGoogleConsentString}})},At=function(){return fetch("".concat(tt(),"/decline-default"),{credentials:"include",headers:Object.assign({},nt())}).then(function(e){return e.json()}).then(function(e){return{iab:e.encodedConsentString,google:e.encodedGoogleConsentString}})},kt=function(e){return fetch("".concat("https://www.mobile.de/account/privacyPolicy?dnt=").concat(!e),{method:"POST",credentials:"include"})},_t=function(){var e=Ze();if(e.cmpApi)return e.cmpApi};!function(e){e.PING="ping",e.GET_TC_DATA="getTCData",e.GET_IN_APP_TC_DATA="getInAppTCData",e.GET_VENDOR_LIST="getVendorList",e.ADD_EVENT_LISTENER="addEventListener",e.REMOVE_EVENT_LISTENER="removeEventListener"}(wt||(wt={})),function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(Ct||(Ct={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(St||(St={})),function(e){e.TC_LOADED="tcloaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(Et||(Et={}));var Lt=function(){return C(function e(t,n,r,o){b(this,e),E(this,"listenerId",void 0),E(this,"callback",void 0),E(this,"next",void 0),E(this,"param",void 0),E(this,"success",!0),Object.assign(this,{callback:t,listenerId:r,param:n,next:o});try{this.respond()}catch(e){this.invokeCallback(null)}},[{key:"invokeCallback",value:function(e){var t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}])}(),Ot=function(e){function t(){return b(this,t),y(this,t,arguments)}return k(t,e),C(t,[{key:"respond",value:function(){this.throwIfParamInvalid(),this.invokeCallback(new Gt(this.param,this.listenerId))}},{key:"throwIfParamInvalid",value:function(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}}])}(Lt),Pt=function(){return C(function e(){b(this,e),E(this,"eventQueue",new Map),E(this,"queueNumber",0)},[{key:"add",value:function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}},{key:"remove",value:function(e){return this.eventQueue.delete(e)}},{key:"exec",value:function(){this.eventQueue.forEach(function(e,t){new Ot(e.callback,e.param,t,e.next)})}},{key:"clear",value:function(){this.queueNumber=0,this.eventQueue.clear()}},{key:"size",get:function(){return this.eventQueue.size}}])}(),Vt=function(){return C(function e(){b(this,e)},null,[{key:"reset",value:function(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=Ct.LOADING,this.disabled=!1,this.displayStatus=St.HIDDEN,this.eventQueue.clear()}}])}();E(Vt,"apiVersion","2"),E(Vt,"tcfPolicyVersion",void 0),E(Vt,"eventQueue",new Pt),E(Vt,"cmpStatus",Ct.LOADING),E(Vt,"disabled",!1),E(Vt,"displayStatus",St.HIDDEN),E(Vt,"cmpId",void 0),E(Vt,"cmpVersion",void 0),E(Vt,"eventStatus",void 0),E(Vt,"gdprApplies",void 0),E(Vt,"tcModel",void 0),E(Vt,"tcString",void 0);var Tt,Dt,Rt,Nt,Ut,Ft,xt=C(function e(){b(this,e),E(this,"cmpId",Vt.cmpId),E(this,"cmpVersion",Vt.cmpVersion),E(this,"gdprApplies",Vt.gdprApplies),E(this,"tcfPolicyVersion",Vt.tcfPolicyVersion)}),Mt=function(e){function t(){var e;b(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return E(e=y(this,t,[].concat(r)),"cmpStatus",Ct.ERROR),e}return k(t,e),C(t)}(xt),Gt=function(e){function t(e,n){var r;if(b(this,t),E(r=y(this,t),"tcString",void 0),E(r,"listenerId",void 0),E(r,"eventStatus",void 0),E(r,"cmpStatus",void 0),E(r,"isServiceSpecific",void 0),E(r,"useNonStandardTexts",void 0),E(r,"publisherCC",void 0),E(r,"purposeOneTreatment",void 0),E(r,"outOfBand",void 0),E(r,"purpose",void 0),E(r,"vendor",void 0),E(r,"specialFeatureOptins",void 0),E(r,"publisher",void 0),r.eventStatus=Vt.eventStatus,r.cmpStatus=Vt.cmpStatus,r.listenerId=n,Vt.gdprApplies){var o=Vt.tcModel;r.tcString=Vt.tcString,r.isServiceSpecific=o.isServiceSpecific,r.useNonStandardTexts=o.useNonStandardTexts,r.purposeOneTreatment=o.purposeOneTreatment,r.publisherCC=o.publisherCountryCode,r.outOfBand={allowedVendors:r.createVectorField(o.vendorsAllowed,e),disclosedVendors:r.createVectorField(o.vendorsDisclosed,e)},r.purpose={consents:r.createVectorField(o.purposeConsents),legitimateInterests:r.createVectorField(o.purposeLegitimateInterests)},r.vendor={consents:r.createVectorField(o.vendorConsents,e),legitimateInterests:r.createVectorField(o.vendorLegitimateInterests,e),disclosedVendors:r.createVectorField(o.vendorsDisclosed,e)},r.specialFeatureOptins=r.createVectorField(o.specialFeatureOptins),r.publisher={consents:r.createVectorField(o.publisherConsents),legitimateInterests:r.createVectorField(o.publisherLegitimateInterests),customPurpose:{consents:r.createVectorField(o.publisherCustomConsents),legitimateInterests:r.createVectorField(o.publisherCustomLegitimateInterests)},restrictions:r.createRestrictions(o.publisherRestrictions)}}return r}return k(t,e),C(t,[{key:"createRestrictions",value:function(e){var t={};if(e.numRestrictions>0)for(var n=e.getMaxVendorId(),r=function(){var n=o.toString();e.getRestrictions(o).forEach(function(e){var r=e.purposeId.toString();t[r]||(t[r]={}),t[r][n]=e.restrictionType})},o=1;o<=n;o++)r();return t}},{key:"createVectorField",value:function(e,t){return t?t.reduce(function(t,n){return t[String(n)]=e.has(Number(n)),t},{}):D(e).reduce(function(e,t){return e[t[0].toString(10)]=t[1],e},{})}}])}(xt),jt=function(e){function t(e){var n;return b(this,t),delete(n=y(this,t,[e])).outOfBand,n}return k(t,e),C(t,[{key:"createVectorField",value:function(e){return D(e).reduce(function(e,t){return e+=t[1]?"1":"0"},"")}},{key:"createRestrictions",value:function(e){var t={};if(e.numRestrictions>0){var n=e.getMaxVendorId();e.getRestrictions().forEach(function(e){t[e.purposeId.toString()]="_".repeat(n)});for(var r=function(n){var r=n+1;e.getRestrictions(r).forEach(function(e){var r=e.restrictionType.toString(),o=e.purposeId.toString(),i=t[o].substr(0,n),s=t[o].substr(n+1);t[o]=i+r+s})},o=0;o<n;o++)r(o)}return t}}])}(Gt),Bt=function(e){function t(){var e;return b(this,t),E(e=y(this,t),"cmpLoaded",!0),E(e,"cmpStatus",Vt.cmpStatus),E(e,"displayStatus",Vt.displayStatus),E(e,"apiVersion",String(Vt.apiVersion)),E(e,"gvlVersion",void 0),Vt.tcModel&&Vt.tcModel.vendorListVersion&&(e.gvlVersion=+Vt.tcModel.vendorListVersion),e}return k(t,e),C(t)}(xt),Ht=function(e){function t(){return b(this,t),y(this,t,arguments)}return k(t,e),C(t,[{key:"respond",value:function(){this.invokeCallback(new Bt)}}])}(Lt),Qt=function(e){function t(){return b(this,t),y(this,t,arguments)}return k(t,e),C(t,[{key:"respond",value:function(){this.throwIfParamInvalid(),this.invokeCallback(new jt(this.param))}}])}(Ot),Wt=function(e){function t(){return b(this,t),y(this,t,arguments)}return k(t,e),C(t,[{key:"respond",value:function(){var e,t=this,n=Vt.tcModel,r=n.vendorListVersion;void 0===this.param&&(this.param=r),(e=this.param===r&&n.gvl?n.gvl:new Te(this.param)).readyPromise.then(function(){t.invokeCallback(e.getJson())})}}])}(Lt),zt=function(e){function t(){return b(this,t),y(this,t,arguments)}return k(t,e),C(t,[{key:"respond",value:function(){var e,n,r;this.listenerId=Vt.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),(e="respond",n=this,"function"==typeof(r=I(A(t.prototype),e,n))?function(e){return r.apply(n,e)}:r)([])}}])}(Ot),qt=function(e){function t(){return b(this,t),y(this,t,arguments)}return k(t,e),C(t,[{key:"respond",value:function(){this.invokeCallback(Vt.eventQueue.remove(this.param))}}])}(Lt);Tt=wt.PING,Dt=wt.GET_TC_DATA,Rt=wt.GET_IN_APP_TC_DATA,Nt=wt.GET_VENDOR_LIST,Ut=wt.ADD_EVENT_LISTENER,Ft=wt.REMOVE_EVENT_LISTENER;var Kt=C(function e(){b(this,e)});E(Kt,Tt,Ht),E(Kt,Dt,Ot),E(Kt,Rt,Qt),E(Kt,Nt,Wt),E(Kt,Ut,zt),E(Kt,Ft,qt);var Jt=function(){return C(function e(){b(this,e)},null,[{key:"has",value:function(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)}}])}();E(Jt,"set_",new Set([0,2,void 0,null]));var Yt="__tcfapi",Xt=function(){return C(function e(t){if(b(this,e),E(this,"callQueue",void 0),E(this,"customCommands",void 0),t){var n=wt.ADD_EVENT_LISTENER;if(null!=t&&t[n])throw new Error("Built-In Custom Commmand for ".concat(n," not allowed: Use ").concat(wt.GET_TC_DATA," instead"));if(n=wt.REMOVE_EVENT_LISTENER,null!=t&&t[n])throw new Error("Built-In Custom Commmand for ".concat(n," not allowed"));null!=t&&t[wt.GET_TC_DATA]&&(t[wt.ADD_EVENT_LISTENER]=t[wt.GET_TC_DATA],t[wt.REMOVE_EVENT_LISTENER]=t[wt.GET_TC_DATA]),this.customCommands=t}try{this.callQueue=window[Yt]()||[]}catch(e){this.callQueue=[]}finally{window[Yt]=this.apiCall.bind(this),this.purgeQueuedCalls()}},[{key:"apiCall",value:function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];if("string"!=typeof e)n(null,!1);else if(Jt.has(t)){if("function"!=typeof n)throw new Error("invalid callback function");if(Vt.disabled)n(new Mt,!1);else if(this.isCustomCommand(e)||this.isBuiltInCommand(e))if(this.isCustomCommand(e)&&!this.isBuiltInCommand(e)){var s;(s=this.customCommands)[e].apply(s,[n].concat(o))}else e===wt.PING?this.isCustomCommand(e)?new Kt[e](this.customCommands[e],o[0],null,n):new Kt[e](n,o[0]):void 0===Vt.tcModel?this.callQueue.push([e,t,n].concat(o)):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new Kt[e](this.customCommands[e],o[0],null,n):new Kt[e](n,o[0]);else n(null,!1)}else n(null,!1)}},{key:"purgeQueuedCalls",value:function(){var e=this.callQueue;this.callQueue=[],e.forEach(function(e){var t;(t=window)[Yt].apply(t,D(e))})}},{key:"isCustomCommand",value:function(e){return this.customCommands&&"function"==typeof this.customCommands[e]}},{key:"isBuiltInCommand",value:function(e){return void 0!==Kt[e]}}])}(),Zt=function(){return C(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;b(this,e),E(this,"callResponder",void 0),E(this,"isServiceSpecific",void 0),E(this,"numUpdates",0),this.throwIfInvalidInt(t,"cmpId",2),this.throwIfInvalidInt(n,"cmpVersion",0),Vt.cmpId=t,Vt.cmpVersion=n,Vt.tcfPolicyVersion=5,this.isServiceSpecific=!!r,this.callResponder=new Xt(o)},[{key:"throwIfInvalidInt",value:function(e,t,n){if(!("number"==typeof e&&Number.isInteger(e)&&e>=n))throw new Error("Invalid ".concat(t,": ").concat(e))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Vt.disabled)throw new Error("CmpApi Disabled");Vt.cmpStatus=Ct.LOADED,t?(Vt.displayStatus=St.VISIBLE,Vt.eventStatus=Et.CMP_UI_SHOWN):void 0===Vt.tcModel?(Vt.displayStatus=St.DISABLED,Vt.eventStatus=Et.TC_LOADED):(Vt.displayStatus=St.HIDDEN,Vt.eventStatus=Et.USER_ACTION_COMPLETE),Vt.gdprApplies=null!==e,Vt.gdprApplies?(""===e?(Vt.tcModel=new De,Vt.tcModel.cmpId=Vt.cmpId,Vt.tcModel.cmpVersion=Vt.cmpVersion):Vt.tcModel=Re.decode(e),Vt.tcModel.isServiceSpecific=this.isServiceSpecific,Vt.tcfPolicyVersion=Number(Vt.tcModel.policyVersion),Vt.tcString=e):Vt.tcModel=null,0===this.numUpdates?this.callResponder.purgeQueuedCalls():Vt.eventQueue.exec(),this.numUpdates++}},{key:"disable",value:function(){Vt.disabled=!0,Vt.cmpStatus=Ct.ERROR}}])}(),$t=function(){var e=ze(Qe.StoreAndOrAccessInformationOnADevice),t=Je(887);return e&&t},en=function(e){return function(e){var t="gdpr=0".toLowerCase();return e.toLowerCase().includes(t)}("undefined"!=typeof window&&window.location?window.location.search:"")},tn=function(e,t){var n;return null===(n=_t())||void 0===n?void 0:n.update(e,t)},nn=function(e,s){return e().then(function(e){c(n,e.iab,s),c(r,e.google,s),tn(e.iab)}).catch(function(){var e;if(e=h(),t.set(i,String(e+1),u(o)),Ne())return console.error("Unable to request default consent string, failure ignored."),void tn("");throw new Error("Unable to request default consent string")})},rn=function(e){return nn(It,e)};function on(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;var sn,an=function(){if(!("object"===("undefined"==typeof window?"undefined":N(window))&&void 0!==window.__tcfapi))throw new Error("window.__tcfapi is not available!")},un=2,cn=function(e,t){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(function(t,r){var o;an(),(o=window).__tcfapi.apply(o,[e,un,function(n,o){if(!1===o)return r('__tcfapi callback execution for command "'.concat(e,'" failed'));t(n)}].concat(n))})}(e)},ln=function(e){return e};!function(e){e[e.WallShown=0]="WallShown",e[e.ConsentSettings=1]="ConsentSettings",e[e.Accept=2]="Accept",e[e.Decline=3]="Decline"}(sn||(sn={}));const dn=e=>((e=1e4)=>new Promise((t,n)=>{const r=Date.now(),o=()=>{window.__trackking_instance__?t(window.__trackking_instance__):Date.now()-r>=e?n(new Error("Timeout: __tracking_instance__ did not become available within the specified time")):setTimeout(o,100)};o()}))().then(t=>{var n,r;null===(r=null===(n=t.client)||void 0===n?void 0:n.services.find(e=>"GoogleTagManager"===e.serviceName))||void 0===r||r.trackingMechanism((e=>{const t={[sn.Accept]:"GDPRConsentSuccess",[sn.ConsentSettings]:"GDPRConsentAttempt",[sn.Decline]:"GDPRConsentSuccess",[sn.WallShown]:"GDPRConsentBegin"},n={[sn.Accept]:"approvalState=full",[sn.ConsentSettings]:"approvalState=notSet;target=privacySettings",[sn.Decline]:"approvalState=none"},r={event:"analytics_event","attributes.event_action":t[e],"attributes.event_label":n[e],"attributes.event_category":"GDPRConsentFlow"};return r["attributes.event_label"]||delete r["attributes.event_label"],r})(e))}).catch(e=>console.warn("Tracking instance not available",e)),pn=()=>document.getElementById("mde-consent-modal-container"),fn=()=>document.querySelector("#mde-consent-modal-dialog"),hn=()=>document.querySelectorAll(".mde-consent-accept-btn"),vn=()=>document.querySelectorAll(".mde-consent-decline-btn"),gn=e=>{const t=pn();t&&(t.style.display=e?"flex":"none")},mn=()=>gn(!0),yn=()=>gn(!1),bn=()=>{yn(),Promise.all([rn(),kt(!0)]).then(In).catch(mn),dn(sn.Accept)},wn=e=>{var t;e.preventDefault(),yn(),Promise.all([nn(At,t),kt(!1)]).catch(mn).then(In),dn(sn.Decline)},Cn=()=>{"visible"===document.visibilityState&&cn("ping").then(ln).then(({displayStatus:e})=>{e===St.VISIBLE&&ut().then(e=>{var t;e&&(tn(null!==(t=p())&&void 0!==t?t:"",!1),In())})})},Sn=(e,t)=>{for(const n of e)n.addEventListener("click",t)},En=(e,t)=>{for(const n of e)n.removeEventListener("click",t)},In=()=>{const e=hn(),t=vn(),n=pn(),r=fn();null==r||r.close(),En(e,bn),En(t,wn),(null==n?void 0:n.parentNode)&&n.parentNode.removeChild(n),document.removeEventListener("visibilitychange",Cn)},An=()=>{Sn(hn(),bn),Sn(vn(),wn),Sn(document.querySelectorAll(".mde-consent-settings-btn"),()=>{dn(sn.ConsentSettings)}),document.addEventListener("visibilitychange",Cn)},kn=()=>{const e=fn();An(),null==e||e.showModal(),null==e||e.focus(),null==e||e.blur(),dn(sn.WallShown),window.self===window.top||window.Cypress||_n()},_n=()=>{document.querySelectorAll("#mde-consent-modal-container a").forEach(e=>{e.setAttribute("target","_blank")})};!function(){if(void 0!==Ze().cmpApi)return _t();void 0===window.__tcfapi&&console.warn("AdRock: consent request queue is missing!");var e,t,n,o,i=function(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t(e.apply(void 0,r))}},s={ac:null!==(e=l())&&void 0!==e?e:(n=d("mdeConsentDataGoogle"),n&&c(r,n,{},!0),n),tc:null!==(t=p())&&void 0!==t?t:f()},a={getTCData:function(e,t,n){if(n&&function(e){return"object"===N(e)&&e.hasOwnProperty("tcString")}(t)){t.addtlConsent=s.ac}try{return e(t,n)}catch(r){console.error("Unable to execute __tcfapi command callback.",r,e,t,n)}},getAnalyticsPermissions:i(pt),getConsentLevel:i(je),getGtmConfig:i(ht),isAdexAllowed:i(ct),isAdsenseAllowed:i(mt),isFacebookMarketingAllowed:i(vt),isFullConsentGiven:i(He),isGoogleAdvertisingAllowed:i(gt),isPersonalisationAllowed:i(Ke),isUserAnalysisAllowed:i(bt),isPrebidPpidUsageAllowed:i($t),isPerformanceMonitoringAndAnalyticsAllowed:i(lt),shouldImmediatelyResolveAnalyticsCheck:i(function(){return!1}),isId5Allowed:i(yt)},u=new Zt(306,2,!0,a);en()?u.update(null):s.tc?u.update(s.tc,!1):$e("autoAccept")&&rn().then(function(){console.group("AUTOMATED CONSENT"),console.warn("Automated consent was given!"),console.warn("Use this feature only for testing purposes!"),console.groupEnd()}).catch(function(e){console.error("Auto-accept consent failed",e)}),o=u,Ze().cmpApi=o}(),on(void 0,void 0,void 0,function*(){var e;const t=pn(),n=yield ut();var r,o,i;n||navigator&&navigator.userAgent&&new RegExp([/bot/,/spider/,/crawl/,/APIs-Google/,/AdsBot/,/Googlebot/,/mediapartners/,/Google Favicon/,/FeedFetcher/,/Google-Read-Aloud/,/DuplexWeb-Google/,/googleweblight/,/bing/,/yandex/,/baidu/,/duckduck/,/yahoo/,/ecosia/,/ia_archiver/,/facebook/,/instagram/,/pinterest/,/reddit/,/slack/,/twitter/,/whatsapp/,/youtube/,/semrush/].map(e=>e.source).join("|"),"i").test(navigator.userAgent)||en()||Ne()||(r=window.location.pathname,rt.some(function(e){return r.includes(e)}))?t&&In():(tn(null!==(e=p())&&void 0!==e?e:"",!n),t?kn():(o=et(),i="".concat(tt(),"/static/modal/mobile/").concat(o,".html"),fetch(i).then(function(e){return e.text()})).then(e=>{document.body.insertAdjacentHTML("beforeend",e),kn()}))})}();
//# sourceMappingURL=index.js.map
